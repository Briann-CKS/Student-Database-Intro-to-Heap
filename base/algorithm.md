# Algorithm
## Goals
The goal of this "A Heap of Students" program is to give me a deeper understanding of memory management by forcing me to utilize the standard C++ heap structure as much as possible. This project requires me to build a normalized student record system. I will be creating a class to represent student data, as well as some other classes to handle other specific types of data including dates and addresses. My system will include all the necessary header files, cpp files, Makefile, and a main program to incorporate the larger system.

From this assignment, the main idea that I have learned is to take advantage of the heap structure in C++ to store data and to access the data wherever I want within the program. This is a very powerful structure since it helps us to deal with large data and information in a more flexible and convenient way. Also, I implemented the *getline()* function to read data from an input file and manipulate large pieces of data into progressively smaller chunks. Together with the stringstream function, I also learned to 'tokenize' a large line of input and control where each piece goes. Therefore, this program allows me to apply the knowledge I acquired in class on building a complete program with the idea of Object Oriented Programming.

In this program, I will need to create 3 different classes, the **Address class, Dates class, and Students class**. Each of these classes will be used to store specific information of a student. The *Address class* will store the address of each student, while the *Dates class* will be used twice for each student, once for their date of birth (DOB), and another time for their graduation date. Lastly, the *Students class* is created to store and manage all information of a student. Therefore, a *Student class* will contain an *Address class* instance and two *Dates class* instances stored on the *heap* since each student will have an address, a DOB, and a graduation date. We can say that the *Student class* has dependencies on both the *Address class* and *Dates class*. 

With the three classes defined, we can then work on the part of the program that handles student information and accessing them with class methods. I will first open a given file that contains all the information of 50 students. Then, I will extract these information, break them down into tokens and assign them to the *class attributes* with the methods defined in the class. To store information for all 50 students, I will create an array of 50 instances of the *Students class* stored on the **heap**. Each element of the array will be an instance of the Students class that stores information of one student. After having all the student information extracted and stored, I will continue to categorize these information and output them to different files. 

The first output file that I will be opening is called the *"fullReport.txt"*. This text file will contain all the information for each student rearranged in a more formatted manner. Each of their last name, first name, address, DOB, graduation date, GPA, and credit hours completed are neatly outputted to this text file. Next, another text file is opened, called *"shortReport.txt"*. This text file is a simplified version of the fullReport text file as it only contains the last name and first name of each student outputted and stored in it. Finally, one last optional file that I will be doing is the *"alphaReport.txt"* file. This text file will contain the **first and last name** of all 50 students rearranged in **alphabetical order**. After having all of the output files filled with the intended information, I close the files, delete the data stored on heap to make sure no memory leak occurs in my program.

Aside from the program itself, a UML diagram that represents my classes definition was also created to give me a clearer picture of the structure of the classes and the program itself in general before I start working on the codes. Finally, a make file is also an important file that can help me compile and run the program more efficiently, since I only need a line of command to run the program. It shows me the dependencies of each file and how one class relates to another in making a program successful. The entire program is then compiled and ran to make sure that it executes all the commands and does all the work appropriately.

## Input
This program is opening an input file to read the data contained within it. It is not taking input from the user, but reading strings of student information from a given file obtained from the Canvas Assignment page. The input file has 50 lines of strings. Each line of string contains various information of a student, including a last name, a first name, an address, DOB, graduation date, GPA, and credit hours completed. I will extract these information, pass them to the string variables defined in the *Students class* and assign these strings to the appropriate attributes defined in all of my classes. Therefore, after carrying out a list of instructions given to my program, I will have a complete set of information for all students stored in the heap of 50 Student class instances. These information can be accessed anywhere in the program, ready to be extracted again and output them to a text file, which is what I will need to do after that.

## Output
The program is not outputting anything on the console, but the *main()* function is reading strings of data and outputting it to a few different file after the strings are tokenized and assigned to the attributes of the three classes defined. Then, I will open three text files to store different information extracted from the original file that I was originally given. The first output file that I will open is called the *"fullReport.txt"*. This text file will contain all the information for each student rearranged in a more formatted manner. Each of their last name, first name, address, DOB, graduation date, GPA, and credit hours completed are neatly outputted to this text file. Next, another text file is opened, called *"shortReport.txt"*. This text file is a simplified version of the fullReport text file as it only contains the last name and first name of each student outputted and stored in it. Finally, one last optional file that I will be doing is the *"alphaReport.txt"* file. This text file will contain the **first and last name** of all 50 students rearranged in **alphabetical order**. After having all of the output files filled with the intended information, I close the files before ending the program.

## Steps 
First, I created a UML diagram to have a clearer picture of how the three classes (*Students, Address, Dates*) are related to each other. Also, the UML diagram allows me to split the big and complex program into smaller parts, and it helped me to understand and comprehend the general structure of the program before starting to code. Then, I started by creating the *Address and Dates* classes first since they are not depending on any other classes and so these two classes are relatively easy to create. For the *Address class*, there are 5 attributes with string type created, they are the "line1, line2, city, state, and zip". For each of these attributes, a setter and a getter method is defined in order to handle and access these attibutes outside of the class itself. Next is the *Dates class*. This class has 3 string attributes defined, "day, month, year" and a setter and a getter method is defined for each of these attributes as well. For the two classes, a constructor and a destructor is defined for them as well. Also, each of these classes have a seperate header file and cpp file created specifically for them. The cpp file for each class contains the code implementation of the class, and it will include the class header file and any other headers and libraries needed. Finally, the **Students class** is created since it has dependencies on the two other classes. This class has 10 attributes of different types defined in it, they are "fName, lName, address, dob, grad, gpa, creditHrs, FullAddress, FullDOB, FullGrad". The "address" attribute has a data type of an Address pointer, while the "dob and grad" attributes have a Dates pointer data type since we wanna store them on the heap instead of the stack. The methods defined in this class include a setter and a getter for all of the attributes, as well as a setLine() method that is used to set all the information extracted from the input file to the attributes of this *Students class*. Also, a null parameter constructor, a constructor with parameter, and a destructor are also created in this class. 

Then, I will create a make file to control the compilation process and a main program that imports all the needed classes and tests them with just some simple strings to determine if the program executes everything as intended. I then modify this program and make file based on my progress. In the main.cpp file, I started off by including all the necessary libraries and header files that I will need to open an input and output file, use stringstreams to handle strings from and to files, as well as to use the classes that I have defined in different files. Also, I defined the necessary instances of the classes stored in the heap (**using the "new" keyword"**), with an array of 50 Students class instances. After, I open an input file called "students.dat" that contains all the information of 50 students. There are 50 lines of strings stored in this file, and each line represents the information of a student. Therefore, I utilized the stringstream, strings, and getline() function to extract strings from the file. In a while loop, a line of string is extracted for every loop, and this line of string will be passed to the setLine() method defined in the *Students class*. Through this method, the information of each student will be tokenized and assigned to its appropriate attributes on the *Students class* itself in order for me to access them easily. 

Next step is to open some output files to store different information extracted from the original file that I was originally given. The first output file that I will open is called the *"fullReport.txt"*. This text file will contain all the information for each student rearranged in a more formatted manner. To achieve this result, I passed the tokens of information of one student to a string together with the format I wanted the output file to have using the *+ operator*. Then, I did a for loop to allow the program to repeat the process for all 50 students, and pass this string to the file within the for loop. This will output each of their last name, first name, address, DOB, graduation date, GPA, and credit hours completed neatly to the text file. Next, another text file is opened, called *"shortReport.txt"*. This text file is a simplified version of the fullReport text file as it only contains the last name and first name of each student outputted and stored in it. Therefore, I did the exact same thing as before, but the only tokens of information included this time are their first and last name. Finally, one last optional file that I will be doing is the *"alphaReport.txt"* file. This text file will contain the **first and last name** of all 50 students rearranged in **alphabetical order**. In order to sort the array of *Students class* instances, I declared another function in main, called the sortName() function. This function will take in a string array as its parameter containing 50 strings. Each of the string element contains the full name of a student (first and last name). Then, this function will run a for loop to compare the alphabets of each student name in the array. If the former string element has an alphabet greater than the latter string, a process of swapping their position will take place and this process is repeated for every string element in the array. In the main() function instead, I have declared a string array of 50 elements, passing the Full name of each student as one string element to this array. Then, I called the sortName() function to get a sorted list of names of the student array. Finally, I opened the *"alphaReport.txt"* and passed the list of sorted student names to the file using a for loop. After having all of the output files filled with the intended information, I close all the files that I have opened for this program, and deleted the *Student class array pointer* to prevent memory leak in my program. 

For the make file, I have also added the valgrind and debug commands so that I can test for memory leaks and errors in my program. Also, all instances of my classes are stored separately on the heap, and my program is tested using the Valgrind tool to ensure that I have responsibly deallocated memory when your are done with it. 

Below is the format that I got from the given input text file for a line of student data:

```
Surname,GivenName,StreetAddress,Address2,City,State,ZipCode,Birthday,Graduation,GPA,Credit Hours Complete<end of line>

Fry,Lock,123 Hillside Drive,,North Brunswick,NJ,57237,08/22/1970,05/15/2012,4.00,90
```
Lastly, I compiled and ran the program to check for any errors. After finalizing the codes, I did a git add ., git commit -m, and a git push -u origin master to upload the .c file to GitHub, located in a directory that I have created. 